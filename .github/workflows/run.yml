name: ğŸš€ Run FluexCode Bot

on:
  workflow_dispatch:  # SADECE MANUEL BAÅLAT

jobs:
  run-bot:
    runs-on: ubuntu-latest
    
    steps:
    - name: ğŸ“¥ KodlarÄ± al
      uses: actions/checkout@v3
      
    - name: âš™ï¸ Node.js kur
      uses: actions/setup-node@v3
      with:
        node-version: '18'
        
    - name: ğŸ“¦ Gerekli paketleri yÃ¼kle
      run: npm install
      
    - name: ğŸš€ Botu baÅŸlat
      env:
        FLUEX_USER: ${{ secrets.FLUEX_USER }}
        FLUEX_TOKEN: ${{ secrets.FLUEX_TOKEN }}
        FLUEX_CHANNEL: ${{ secrets.FLUEX_CHANNEL }}
      run: |
        echo "ğŸ¤– Bot baÅŸlatÄ±lÄ±yor..."
        npm start &
        sleep 10
        echo "âœ… Bot Ã§alÄ±ÅŸÄ±yor"
        
    - name: ğŸ”„ SÃ¼rekli Ã§alÄ±ÅŸtÄ±r
      run: |
        echo "â³ Bot 7/24 Ã§alÄ±ÅŸacak..."
        while true; do
          sleep 60
          echo "ğŸ• $(date): Bot aktif"
        done